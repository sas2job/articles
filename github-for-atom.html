<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link href="css/style.css" rel="stylesheet">
  </head>
  <body>
    <h1>Работа с Git и GitHub в редакторе кода Atom</h1>
    <p>Atom – отличный редактор кода с богатым функционалом и очень гибкой настройкой. Так как он разрабатывался командой GitHub, то вполне логичным и долгожданным стало появление в стартовой сборке версий 1.18+ одноименного пакета “GitHub”, позволяющего работать с репозиториями и системой контроля версий напрямую из редактора без установки дополнительных программ, в том числе даже GitHub Desktop.</p>
    <figure>
      <img src="img/01.png">
      <figcation>Работа с пакетом ведется через панели Git и GitHub. Их можно открыть через меню редактора: Packages -> GitHub -> Toggle Git Tab, или сочетанием клавиш Ctrl + Shift + 9 для Git и Ctrl + Shift + 8 для GitHub.</figcaption>
    </figure>

    <h2>Подключение удаленного репозитория</h2>
    <p>Для примера создадим новый репозиторий.</p>
    <figure>
      <img src="img/02.png">
      <figcaption>Войдите в свой аккаунт на GitHub и выберите пункт “New repository” в меню справа или нажмите зеленую кнопку “New repository” в разделе “Your repositories”.</figcaption>
    </figure>
    <figure>
      <img src="img/03.png">
      <figcaption>Введите имя и описание репозитория, поставьте галочку "Initialize this repository with a README”, нажмите кнопку “Create repository” и создайте новый репозиторий.</figcaption>
    </figure>
    <p>Чтобы связать локальный репозиторий с удаленным, нам необходим URL этого репозитория на GitHub.</p>
    <figure>
      <img src="img/04.png">
      <figcaption>В созданном репозитории нажмите кнопку “Clone or download” и скопируйте URL.</figcaption>
    </figure>
    <p>Откройте командную строку редактора Crtl + Shift + P и введите команду “GitHub: Clone” или воспользуйтесь сочетанием клавиш Alt + G и затем =.</p>
    <figure>
      <img src="img/05.png">
      <figcaption>В появившемся диалоговом окне вставьте URL репозитория на GitHub и укажите директорию, в которой будет храниться клон репозитория на вашем компьютере.</figcaption>
    </figure>
    <figure>
      <img src="img/06.png">
      <figcaption>Файлы репозитория клонируются на ваш компьютер.</figcaption>
    </figure>

    <h2>Операция PUSH</h2>
    <p>Команда push позволяет отправить в удаленный репозиторий изменения, внесенные в локальный репозиторий.</p>
    <p>Кликнув на дереве локального рипозитория слева, создадим новую папку с именем “css” сочетанием клавиш Shift + A (или пункт “New folder” в контекстном меню). Обратите внимание - на панели Git создание пустой папки не отображается, т.е. папка без содержимого не будет добавлена в репозиторий на GitHub. Добавим в нее несколько новых файлов - клавиша “A” или пункт “New file”в контекстом меню.</p>
    <figure>
      <img src="img/07.png">
      <figcaption>В разделе “Unstaged Changes” создание файлов отображается зелеными значками.</figcaption>
    </figure>
    <p>Отправим наши изменения на удаленный репозиторий на GitHub. В разделе “Unstaged Changes” нажмите кнопку “Stage All”. Все учтенные изменения будут перенесены в раздел “Staged Changes”. Если вы хотите добавить только некоторые – выберите нужные и нажмите клавишу Enter. При необходимости вы можете вернуть их обратно кнопкой “Unstage All”.</p>
    <figure>
      <img src="img/08.png">
      <figcaption>Добавьте сообщение о том, что было изменено в проекте и нажмите кнопку “Commit” или сочетание клавиш Ctrl + Enter.</figcaption>
    </figure>
    <figure>
      <img src="img/09.png">
      <figcaption>В самой нижней части окна у иконок “Pull”/”Push” появилась отметка “1” – к отправке готов один пакет изменений. Кликните на иконках и нажмите на появившейся панели кнопку ”Push”.</figcaption>
    </figure>
    <figure>
      <img src="img/10.png">
      <figcaption>В диалоговом окне введите ваш username (логин) и пароль от аккаунта на GitHub, в котором вы создавали репозиторий. Нажмите кнопку “Sign in”.</figcaption>
    </figure>
    <figure>
      <img src="img/11.png">
      <figcaption>Обновите страницу репозитория на GitHub чтобы проверить внесены ли изменения.</figcaption>
    </figure>
    <p>Чтобы не вводить данные аккаунта каждый раз, сохраним их в системе Git нашего локального репозитория. В дереве слева откройте папку “.git” и выберите файл “config”. В строке “url” после “ https:// ” и до названия домена “github.com” введите данные аккаунта. Отделите username от пароля “:” и пароль от домена “@”.</p>
    <figure>
      <img src="img/12.png">
      <figcaption>Это безопасно - файл "config" хранится на вашем локальном компьютере, изменения в нем не фиксируются в коммитах, не попадают в историю и не доступны даже если ваш репозиторий на GitHub публичный.</figcaption>
    </figure>

    <h2>Операция PULL</h2>
    <p>Команда pull позволяет получить изменения, которые произошли в удаленном репозитории, и слить их с нашим локальным репозиторием.</p>
    <p>Теперь отредактируем файлы в удаленном репозитории.</p>
    <figure>
      <img src="img/13.png">
      <figcaption>В файл “style-1.css” мы добавим новые строки.</figcaption>
    </figure>
    <figure>
      <img src="img/14.png">
      <figcaption>Обязательно напишем коммит и сохраним изменения.</figcaption>
    </figure>
    <figure>
      <img src="img/15.png">
      <figcaption>А файл “style-3.css” удалим.</figcaption>
    </figure>
    <p><strong>Важно!</strong> Для примера в коммитах просто дублируется информация об изменениях, но в проектах в них не следует просто констатировать изменение файла или строк (это можно увидеть при открытии изменений), указывайте <em>зачем</em> были внесены эти изменения – исправлен баг, сверстан новый блок, изменена сетка.</p>
    <p>Теперь вернемся в редактор и попытаемся внести в локальный репозиторий те изменения, которые произошли в удаленном. </p>
    <figure>
      <img src="img/16.png">
      <figcaption>В редакторе на панели Git нажмем кнопку “Fetch”, чтобы обновить информацию об удаленном репозитории. Рядом с кнопкой “Pull” появится значок “2” – есть два пакета изменений (по количеству коммитов).</figcaption>
    </figure>
    <p>Примем pull и проверим наш локальный репозиторий – в него добавились все изменения из главного репозитория.</p>

    <h2>Конфликты</h2>
    <p>При слиянии (merge) локального и удаленного репозитория могут возникать конфликты. К примеру, при отправке push редактор может выдать предупреждение:</p>
    <figure>
      <img src="img/18.png">
      <figcaption>“Push отклонен. Последние изменения находятся в удаленном репозитории. Воспользуйтесь командой pull, прежде чем снова отправить push”</figcaption>
    </figure>
    <p>Эта проблема решается предварительным запросом pull.</p>
    <p>Изменения могут конфликтовать между собой. Например, в GitHub уже сохранен новый цвет фона и в тот же момент мы изменили его у себя и попытались вытянуть pull. Редактор тоже выдаст предупреждение:</p>
    <figure>
      <img src="img/19.png">
      <figcaption>“Pull прерван. Локальные изменения в следующих файлах будут перезаписаны слиянием: ... Просьба внести изменения или спрятать их перед слиянием.”</figcaption>
    </figure>
    <figure>
      <img src="img/20.png">
      <figcaption>Кликнув по изменению в разделе “Unstaged Changes”, можно увидеть какие строки файла были изменены. Изменение можно удалить из этого раздела (эти строки файла вернутся в предыдущее состояние) сочетанием клавиш Ctrl + Backspace или соответствующей командой в контекстном меню и затем снова запросить pull.</figcaption>
    </figure>
    <p>Также конфликт изменений может выглядеть следующим образом:</p>
    <figure>
      <img src="img/21.png">
      <figcaption>Здесь вы можете внести измения в любой из двух вариантов (локального репозитория или удаленного). К примеру скопировать конфликтный блок из одного в другой и закоментировать его. Затем выбрать нужный вариант кнопкой “Use me” и потом опять синхронизировать данные в репозиториях командами pull/push.</figcaption>
    </figure>

    <h2>Изменение коммита</h2>
    <p>При необходимости можно внести изменения в последдний коммит.</p>
    <figure>
      <img src="img/24.png">
      <figcaption>Для этого нужно поставить галочку “Amend” рядом с кнопкой “Commit”.</figcaption>
    </figure>

    <h2>Создание ветки</h2>
    <figure>
      <img src="img/22.png"><img src="img/23.png">
      <figcaption>Также в редакторе можно создавать новые ветки репозитория и переключаться между ними.</figcaption>
    </figure>

    <h2>Горячие клавиши</h2>
    <figure>
      <img src="img/25.png">
      <figcaption>Полезные сочетания клавиш для работы с пакетом можно увидеть, вбив в командную строку редактора запрос "github".</figcaption>
    </figure>

    <p>Более подробно о редакторе Atom и пакете GitHub можно узнать на официальном сайте проекта <a href="https://github.atom.io/" alt="Atom for GitHub">Atom for GitHub</a> и в соответствующем разделе его документации - <a href="http://flight-manual.atom.io/using-atom/sections/github-package/" alt="GitHub package">GitHub package</a></p>

  </body>
</html>
